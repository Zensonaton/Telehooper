# Платформа ВКонтакте для бота Telehooper

Текущий статус: не реализовано; разработка начата.

## Поддерживаемый функционал

Поддерживаемый функционал описан в таблице ниже. Некоторые функции поддерживаются лишь на одной из сторон, поэтому в некоторых полях используется формат вида `❌ <-> ❌`.

| **Операция**                          | **Поддержка** | **Комментарий**    |
|:-------------------------------------:|:-------------:|:------------------:|
| **Текстовые сообщения**               | ❌ <-> ❌     |                    |
| **Эмодзи**                            | ❌ <-> ❌     |                    |
| **"Ответы" на сообщения**             | ❌ <-> ❌     |                    |
| **Голосовые сообщения**               | ❌ <-> ❌     |                    |
| **Редактирование**                    | ❌ <-> ❌     |                    |
| **Редактирование вложений**           | ❌ <-> ❌     |                    |
| **Стикеры**                           | ❌ <-> ❌     |                    |
| **Пометка сообщения как прочитанное** | ❌ <-> ❌     |                    |
| **Фото**                              | ❌ <-> ❌     |                    |
| **Видео**                             | ❌ <-> ❌     |                    |
| **Файлы**                             | ❌ <-> ❌     |                    |
| **Геопозиции**                        | ❌ <-> ❌     |                    |
| **Стикеры**                           | ❌ <-> ❌     |                    |
| **Статус "онлайн"**                   | ❌ <-> ❌     |                    |
| **Статус "печатает"**                 | ❌ <-> ❌     |                    |
| **Поддержка бесед**                   | ❌            |                    |
| **События бесед**                     | ❌            |                    |
| **Управление беседами**               | ❌            |                    |
| **Просмотр списка чатов**             | ❌            |                    |
| **Поддержка бот-кнопок**              | ❌            |                    |
| **Удаление сообщений**                | ❌ <-> ❌     |                    |

## Ограничения Messaging API

ВКонтакте ограничила доступ к API сообщений (`messages`) в Феврале 2019 года с целью "защиты данных", [источник](https://dev.vk.com/reference/roadmap#%D0%9E%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20Messages%20API). Данное ограничение прямо запрещает работе ботам по типу Telehooper, которые напрямую работают с API ВКонтакте для обработки/отпраки сообщений. ВКонтакте самая заботливая в плане безопасности компания, запомните это :)

Для обхода данной проблемы есть несколько путей решения:

1. Создать собственное приложение в ВК, дальше обратиться к тех. поддержке что бы те дали доступ к API `messages`.
2. Тихо и мирно прикинуться чужим приложением, используя `client_id`.

Самый «красивый», и «правильный вариант» находится под номером 1, однако, по очевидным причинам, ВКонтакте не даст разрешение на использование API сообщений если им сказать, что оно будет использоваться для «ухода» из ВКонтакте. Именно по этой причине Telehooper прикидывается другим приложением для авторизации, в данный момент для этого используется Kate Mobile.

Список известных приложений от ВК можно посмотреть [тут](https://vkhost.github.io/).
